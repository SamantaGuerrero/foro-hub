package com.alura.forohub.exception; import org.springframework.http.*; import org.springframework.web.bind.MethodArgumentNotValidException; import org.springframework.web.bind.annotation.*; import java.util.*; @RestControllerAdvice public class GlobalExceptionHandler { @ExceptionHandler(MethodArgumentNotValidException.class) public ResponseEntity<Map<String,String>> handleValidation(MethodArgumentNotValidException ex){ Map<String,String> errors=new HashMap<>(); ex.getBindingResult().getFieldErrors().forEach(e->errors.put(e.getField(), e.getDefaultMessage())); return ResponseEntity.badRequest().body(errors); } @ExceptionHandler(RuntimeException.class) public ResponseEntity<Map<String,String>> handleRuntime(RuntimeException ex){ Map<String,String> error=new HashMap<>(); error.put("error", ex.getMessage()); return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(error); } }